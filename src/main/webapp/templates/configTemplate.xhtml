<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough">
<h:head>
	<meta charset="utf-8"></meta>
	<title>Ensembles:: Profil Agency</title>
	<link type="text/css" rel="stylesheet" href="form.css" />
	<h:outputStylesheet library="css" name="bootstrap.min.css" />
</h:head>
<h:body>

	<ui:composition template="/layouts/mainLayout.xhtml">
		<ui:define name="content">
			<div class="container" style="margin-top: 30px">
				<div class="row">
					<div class="col-sm-2 bg-info">

						<!-- BAR DE NAVIGATION AGENCY -->
						<h:form>
							<ul class="nav nav-pills flex-column">
								<li class="nav-item"><a class="nav-link text-white"
									href="http://127.0.0.1:8080/ensembles-app/agency/mainAgence.xhtml">
										Dashboard</a></li>
								<li class="nav-item"><h:commandLink
										class="nav-link text-white"
										action="#{controllerProfilAgence.redirectToEdit(authBean.currentUser.id)}"
										value="Profil agence" /></li>
								<li class="nav-item"><h:commandLink
										class="nav-link text-white"
										action="#{controllerJourney.redirectToJourneyList(authBean.currentUser.id)}"
										value="Mes voyages" /></li>
								<li><a class="nav-link text-white"
									href="http://127.0.0.1:8080/ensembles-app/Journey/Journey.xhtml">
										Ajouter un voyage</a></li>
								<li class="nav-item"><a class="nav-link text-white"
									href="http://127.0.0.1:8080/ensembles-app/agency/partnersServices.xhtml">
										Services des partenaires</a></li>
								<li class="nav-item"><h:commandLink
										class="nav-link text-white"
										action="#{controllerWebSite.redirectToEdit(authBean.currentUser.id)}"
										value="Personnaliser mon site" /></li>
								<li class="nav-item"><h:commandLink
										class="nav-link text-white"
										action="#{controllerWebSite.redirectWebsiteViaAgence(authBean.currentUser.id)}"
										value="Mon Site" /></li>
							</ul>
						</h:form>

						<hr class="d-sm-none" />
					</div>
					<div class="col-sm-9">
						<section>
							<div class="container h-100">
								<div class="card mb-6">
									<div class="card-header">Modifier mon site</div>
									<div class="card-body">

										<h:form enctype="multipart/form-data">
											<div class="row gx-3 mb-3">
											
											
												<div class="col-md-6">
													<h:outputLabel for="societe" class="small mb-1">Nom de l'agence :
													</h:outputLabel>
													<h:inputText type="text" id="logo"
														value="#{controllerWebSite.webSiteViewModel.logo}"
														size="20" maxlength="20" styleClass="form-control" />
												</div>


												<div class="col-md-6">
													<p>Image background :</p>
													<p:messages showDetail="true" />
													<p:fileUpload value="#{imageStoreBean.uploadedFile}"
														mode="simple" />
													<p:commandButton value="Submit" ajax="false"
														actionListener="#{imageStoreBean.storeImage()}" />
													<h:graphicImage id="imageBackground" alt="uploaded image" url="/image" />
												</div>


												<div class="col-md-6">
													<h:outputLabel for="societe" class="small mb-1">Texte "A propos" :
													</h:outputLabel>
													<h:inputText type="text" id="about"
														value="#{controllerWebSite.webSiteViewModel.aboutUs}"
														size="20" maxlength="20" styleClass="form-control" />
												</div>

												<div class="col-md-6">
													<h:outputLabel for="societe" class="small mb-1">Couleur :
													</h:outputLabel>
													<h:inputText type="text" id="color"
														value="#{controllerWebSite.webSiteViewModel.color}"
														size="20" maxlength="20" styleClass="form-control" />
												</div>
												
											</div>

											<div class="form-group">
												<div class="col-sm-offset-2 col-sm-10">
													<h:commandButton value="Enregistrer"
														action="#{controllerWebSite.modifierWebsite()}"
														styleClass="btn btn-dark" />
												</div>
											</div>
										</h:form>
									</div>
								</div>
							</div>
						</section>
					</div>
				</div>

			</div>
		</ui:define>
	</ui:composition>
</h:body>
</html>